<mat-form-field class="example-button-row">
  <input matInput (keyup)="applyFilter($event)" placeholder="search collaborators" #input>
</mat-form-field>

<section>
  <div class="example-button-row" >
      <button mat-raised-button color="warn" >
      <mat-icon (click)="openDialog()">add_circle_outline</mat-icon>
        add collaborator
    </button>
  </div>
</section>
<br>

<div class="mat-elevation-z8 table-container" >
  <table mat-table [dataSource]="dataSource" matSort>
    <!-- ID Column -->
    <ng-container matColumnDef="id">
      <th mat-header-cell *matHeaderCellDef mat-sort-header class="hide-column"> ID </th>
      <td mat-cell *matCellDef="let row" class="hide-column"> {{row.id}} </td>
    </ng-container>


    <ng-container matColumnDef="firstname">

      <th mat-header-cell *matHeaderCellDef class="expand-column">
        <mat-form-field>
          <mat-label>firstname&lastname</mat-label>
          <input matInput (keyup)="applyFilter($event)" placeholder="Search" #input>
          <mat-icon matSuffix>search</mat-icon>
        </mat-form-field>
      </th>

      <td mat-cell *matCellDef="let row" class="expand-column"> {{row.firstname}} {{row.lastname}}</td>
    </ng-container>

    <ng-container matColumnDef="lastname">
      <th mat-header-cell *matHeaderCellDef mat-sort-header class="hide-column">lastname</th>
      <td mat-cell *matCellDef="let row" class="hide-column"> {{row.lastname}} </td>
    </ng-container>




    <!-- contratType Column -->
    <ng-container matColumnDef="contratType">

      <th mat-header-cell *matHeaderCellDef class="expand-column">
        <mat-form-field>
          <mat-label>contratType</mat-label>
          <input matInput (keyup)="applyFilter($event)" placeholder="Search" #input>
          <mat-icon matSuffix>search</mat-icon>
        </mat-form-field>
      </th>
      <td mat-cell *matCellDef="let row" class="expand-column"> {{row.contratType}} </td>
    </ng-container>

    <!-- dureeTravail Column -->
    <ng-container matColumnDef="dureeTravail">
      <th mat-header-cell *matHeaderCellDef mat-sort-header class="hide-column"> Working time</th>
      <td mat-cell *matCellDef="let row" class="hide-column"> {{row.dureeTravail}} </td>
    </ng-container>

    <!-- dateDebutContrat Column -->
    <ng-container matColumnDef="dateDebutContrat">
      <th mat-header-cell *matHeaderCellDef class="expand-column">
        <mat-form-field>
          <mat-label>contract start date</mat-label>
          <input matInput (keyup)="applyFilter($event)" placeholder="Search" #input>
          <mat-icon matSuffix>search</mat-icon>
        </mat-form-field>
      </th>  <td mat-cell *matCellDef="let row" class="expand-column"> {{row.dateDebutContrat}} </td>

    </ng-container>

    <!-- dateFinContrat Column -->
    <ng-container matColumnDef="dateFinContrat">
      <th mat-header-cell *matHeaderCellDef class="expand-column">
        <mat-form-field>
          <mat-label>contract end date</mat-label>
          <input matInput (keyup)="applyFilter($event)" placeholder="Search" #input>
          <mat-icon matSuffix>search</mat-icon>
        </mat-form-field>
      </th><td mat-cell *matCellDef="let row" class="expand-column"> {{row.dateFinContrat}} </td>
    </ng-container>

    <!-- anciennete Column -->
    <ng-container matColumnDef="anciennete">
      <th mat-header-cell *matHeaderCellDef mat-sort-header class="hide-column"> seniority </th>
      <td mat-cell *matCellDef="let row" class="hide-column"> {{row.anciennete}} </td>
    </ng-container>

    <!-- categorieSocioProfessionnelle Column -->
    <ng-container matColumnDef="categorieSocioProfessionnelle">
      <th mat-header-cell *matHeaderCellDef mat-sort-header class="hide-column"> categorieSocioProfessionnelle </th>
      <td mat-cell *matCellDef="let row" class="hide-column"> {{row.categorieSocioProfessionnelle}} </td>
    </ng-container>

    <!-- departement Column -->
    <ng-container matColumnDef="departement">
      <th mat-header-cell *matHeaderCellDef mat-sort-header class="hide-column"> departement </th>
      <td mat-cell *matCellDef="let row" class="hide-column"> {{row.departement}} </td>
    </ng-container>

    <!-- genre Column -->
    <ng-container matColumnDef="genre">
      <th mat-header-cell *matHeaderCellDef mat-sort-header class="hide-column"> Gender </th>
      <td mat-cell *matCellDef="let row" class="hide-column"> {{row.genre}} </td>
    </ng-container>

    <!-- age Column -->
    <ng-container matColumnDef="age">
      <th mat-header-cell *matHeaderCellDef mat-sort-header class="hide-column"> Age </th>
      <td mat-cell *matCellDef="let row" class="hide-column"> {{row.age}} </td>
    </ng-container>

    <!-- niveauEducation Column -->
    <ng-container matColumnDef="niveauEducation">
      <th mat-header-cell *matHeaderCellDef mat-sort-header class="hide-column"> niveauEducation </th>
      <td mat-cell *matCellDef="let row" class="hide-column"> {{row.niveauEducation}} </td>
    </ng-container>

    <!-- regionGeographique Column -->
    <ng-container matColumnDef="regionGeographique">
      <th mat-header-cell *matHeaderCellDef mat-sort-header class="hide-column"> regionGeographique </th>
      <td mat-cell *matCellDef="let row" class="hide-column"> {{row.regionGeographique}} </td>
    </ng-container>









    <!-- regionGeographique Column -->
    <!-- ... Existing code ... -->

    <!-- ... Existing code ... -->



    <ng-container matColumnDef="populationName">
      <th mat-header-cell *matHeaderCellDef class="expand-column">
        <mat-form-field>
          <mat-label>Population</mat-label>
          <input matInput (keyup)="applyFilter($event)" placeholder="Search" #input>
          <mat-icon matSuffix>search</mat-icon>
        </mat-form-field>
      </th>
      <td mat-cell *matCellDef="let row" class="expand-column">
    <span class="clickable-text" (click)="openPopulation(row.populationName)">
      {{row.populationName}}
    </span>
      </td>
    </ng-container>







    <!-- ... Existing code ... -->


    <!-- ... Existing code ... -->
    <!-- ... Existing code ... -->




    <!-- update Column -->
    <ng-container matColumnDef="update">
      <th mat-header-cell *matHeaderCellDef class="expand-column">
      </th>
      <td mat-cell *matCellDef="let row" class="expand-column">

         <mat-icon (click)="openUpdatedList(row.id)">edit</mat-icon>
        </td>
    </ng-container>


    <!-- delete Column -->
    <ng-container matColumnDef="delete">
      <th mat-header-cell *matHeaderCellDef class="expand-column">
</th>
      <td mat-cell *matCellDef="let row" class="expand-column">
          <mat-icon (click)="openDeleteCollab(row.id)">delete</mat-icon>
 </td>
    </ng-container>



    <ng-container matColumnDef="details">
      <th mat-header-cell *matHeaderCellDef class="expand-column">
      <td mat-cell *matCellDef="let row" class="expand-column">
        <mat-icon (click)="openDetails(row.id)">visibility</mat-icon>
      </td>
    </ng-container>




    <!--
    <ng-container matColumnDef="populationName">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Population Name </th>
              <td mat-cell *matCellDef="let row">
                <button class="button"
                        [ngClass]="{'empty-background': !row.populationName, 'data-background': row.populationName, 'empty-color': !row.populationName}">
                  {{row.populationName ? row.populationName : 'no population'}}
                </button>
              </td>
            </ng-container>

    -->

    <ng-container matColumnDef="saving">
      <th mat-header-cell *matHeaderCellDef class="expand-column">
</th>
      <td mat-cell *matCellDef="let row" class="expand-column">
          <mat-icon  (click)="updatePopulationWithCollaborator(row)">done_outline</mat-icon>

      </td>
    </ng-container>



    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

    <!-- Row shown when there is no matching data. -->
    <tr class="mat-row" *matNoDataRow>
      <td class="mat-cell" colspan="6">No data matching the filter "{{input.value}}"</td>
    </tr>
  </table>

  <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" aria-label="Select page of employees"></mat-paginator>

</div>


